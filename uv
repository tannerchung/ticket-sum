#!/bin/bash
# Mock uv command that redirects to pip to avoid lock conflicts
# This script intercepts uv calls and uses pip instead

case "$1" in
    "sync")
        echo "ðŸ”„ Intercepting 'uv sync' - using pip instead to avoid lock conflicts"
        python -m pip install --quiet --upgrade pip setuptools wheel
        if [ -f "requirements.txt" ]; then
            python -m pip install --quiet --no-deps -r requirements.txt 2>/dev/null || python -m pip install --quiet -r requirements.txt
        elif [ -f "pyproject.toml" ]; then
            python -m pip install --quiet -e .
        fi
        echo "âœ… Dependencies installed successfully via pip (intercepted uv sync)"
        exit 0
        ;;
    "add")
        shift
        echo "ðŸ”„ Intercepting 'uv add $*' - using pip instead"
        python -m pip install --quiet $*
        ;;
    *)
        echo "ðŸ”„ uv command '$1' intercepted - using system pip"
        python -m pip $*
        ;;
esac